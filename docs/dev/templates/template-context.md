# [任务名称] - 开发上下文

> 记录关键决策、文件位置和技术细节

**创建日期**: YYYY-MM-DD
**最后更新**: YYYY-MM-DD HH:MM
**当前阶段**: 阶段 X
**负责人**: [开发者名称]

---

## 📂 关键文件

### 前端文件
- `miniprogram/pages/[module]/[page].js` - [文件说明]
- `miniprogram/components/[component]/[component].js` - [组件说明]
- `miniprogram/utils/[util].js` - [工具函数说明]

### 后端文件
- `cloudfunctions/[function-name]/index.js` - [云函数说明]
- `cloudfunctions/[function-name]/lib/[module].js` - [模块说明]

### 配置文件
- `miniprogram/app.json` - [配置变更说明]
- `project.config.json` - [项目配置变更]

### 数据库
- `users` 集合 - [字段变更]
- `[collection-name]` 集合 - [新增/修改的集合]

---

## 🧠 技术决策记录

### 决策 1: [决策标题]

**日期**: YYYY-MM-DD

**问题**:
[描述需要解决的问题或需要做出决策的场景]

**考虑的方案**:
1. **方案 A**: [描述]
   - 优点: [列出优点]
   - 缺点: [列出缺点]

2. **方案 B**: [描述]
   - 优点: [列出优点]
   - 缺点: [列出缺点]

3. **方案 C**: [描述]
   - 优点: [列出优点]
   - 缺点: [列出缺点]

**最终决策**: [选择了哪个方案]

**理由**:
[为什么选择这个方案？考虑了哪些因素？]
- 理由 1
- 理由 2
- 理由 3

**影响**:
[这个决策会影响哪些部分？]

---

### 决策 2: [决策标题]

**日期**: YYYY-MM-DD

**问题**: [问题描述]

**最终决策**: [决策内容]

**理由**: [决策理由]

---

## 🔗 依赖关系

### 内部依赖
- **依赖模块 1**: [模块名称]
  - 依赖原因: [为什么依赖]
  - 依赖版本: [版本号]
  - 联系人: [负责人]

- **依赖模块 2**: [模块名称]
  - 依赖原因: [为什么依赖]
  - 当前状态: [是否已完成]

### 外部依赖
- **npm 包**: [包名称]
  - 版本: [版本号]
  - 用途: [为什么使用]

- **第三方 API**: [API 名称]
  - 文档: [API 文档链接]
  - 用途: [为什么使用]

### 阻塞问题
- [ ] **阻塞问题 1**: [问题描述]
  - 影响: [影响哪些任务]
  - 负责人: [谁来解决]
  - 预计解决: [日期]

---

## 🐛 遇到的问题和解决方案

### 问题 1: [问题简短描述]

**日期**: YYYY-MM-DD

**症状**:
[详细描述问题的表现]

**原因**:
[经过排查发现的根本原因]

**解决方案**:
[具体的解决步骤]
```javascript
// 示例代码
```

**经验教训**:
[从这个问题中学到了什么]

---

### 问题 2: [问题简短描述]

**症状**: [问题表现]

**解决**: [解决方法]

---

## 💡 重要发现和优化

### 发现 1: [标题]

**日期**: YYYY-MM-DD

**内容**: [描述发现的内容]

**影响**: [对项目有什么影响]

**行动**: [基于这个发现采取了什么行动]

---

## 🔄 当前进度

### 已完成
- [x] 阶段 1: [阶段名称]
- [x] 阶段 2: [阶段名称]

### 进行中
- [ ] 阶段 3: [阶段名称]
  - [x] 任务 3.1
  - [x] 任务 3.2
  - [ ] 任务 3.3 ← **当前位置**

### 待完成
- [ ] 阶段 4: [阶段名称]
- [ ] 阶段 5: [阶段名称]

---

## 📊 技术细节

### 数据模型变更

#### users 集合
```javascript
// 新增字段
{
  [newField]: {
    type: String,
    description: '[字段说明]',
    default: '[默认值]'
  }
}
```

#### 新增集合
```javascript
// [collection-name] 集合结构
{
  _id: String,
  field1: String,
  field2: Number,
  createdAt: Date
}
```

### API 接口

#### 新增云函数
```javascript
// cloudfunctions/[function-name]/index.js
// 功能: [功能说明]
// 输入参数: { param1, param2 }
// 返回值: { success, data }
```

### 算法和逻辑

#### [关键算法名称]
```
伪代码或流程说明：
1. 步骤 1
2. 步骤 2
3. 步骤 3

时间复杂度: O(n)
空间复杂度: O(1)
```

---

## 🎨 UI/UX 相关

### 页面结构
```
[page-name] 页面
├── Header 部分
│   └── 标题 + 返回按钮
├── Content 部分
│   ├── 模块 1
│   └── 模块 2
└── Footer 部分
    └── 操作按钮
```

### 交互逻辑
- 用户点击 [按钮] → [发生什么]
- [条件] 时 → [显示/隐藏某元素]

---

## 📝 待办事项和疑问

### 需要确认
- [ ] 与产品确认：[需要确认的内容]
- [ ] 与后端确认：[需要确认的接口]
- [ ] 与设计确认：[需要确认的交互]

### 需要优化
- [ ] 性能优化：[需要优化的部分]
- [ ] 代码重构：[需要重构的模块]
- [ ] 错误处理：[需要完善的错误处理]

### 遗留问题
- [ ] [问题描述] - [谁负责] - [何时解决]

---

## 🚀 下一步计划

### 立即行动
1. [具体的下一步任务]
2. [另一个任务]

### 短期计划（本周）
- [ ] 完成阶段 X
- [ ] 开始阶段 Y

### 中期计划（本月）
- [ ] 完成所有核心功能
- [ ] 进入测试阶段

---

## 🧪 测试相关

### 已完成的测试
- [x] 单元测试：[模块名称]
- [x] 集成测试：[功能名称]

### 待完成的测试
- [ ] 单元测试：[模块名称]
- [ ] 集成测试：[功能名称]
- [ ] 端到端测试：[完整流程]

### 测试环境
- 测试账号：[账号信息]
- 测试数据：[数据位置]
- 测试工具：[使用的工具]

---

## 📖 参考资料

### 内部文档
- [文档标题](../../path/to/doc.md)
- [另一个文档](../../path/to/another-doc.md)

### 外部资源
- [微信小程序官方文档](https://developers.weixin.qq.com/miniprogram/dev/framework/)
- [相关技术文章](https://example.com/article)
- [参考项目](https://github.com/example/repo)

---

## 💭 备注和笔记

[记录其他重要但不属于以上分类的信息]

- 备注 1
- 备注 2

---

**最后更新**: YYYY-MM-DD HH:MM
**下次更新**: [建议下次何时更新]
**维护者**: [开发者名称]

> 💡 提示：
> - 完成每个阶段后及时更新
> - 做出重要决策后立即记录
> - 遇到问题并解决后补充到"问题和解决方案"
> - 会话结束前更新"下一步计划"
