<!--
  èˆè¹ˆå¯¼å¸ˆå·¥ä½œå°
  åŠŸèƒ½ï¼šæŸ¥çœ‹å¾…è¯„åˆ†å€™é€‰äººã€æäº¤èˆè¹ˆè¯„åˆ†
-->
<view class="dance-teacher-home">
  <!-- é¡¶éƒ¨ç”¨æˆ·ä¿¡æ¯ -->
  <view class="header">
    <view class="user-info">
      <text class="role-badge">ğŸ’ƒ èˆè¹ˆå¯¼å¸ˆ</text>
      <text class="username">{{userInfo.profile.name}}</text>
    </view>
  </view>

  <!-- æ•°æ®ç»Ÿè®¡å¡ç‰‡ -->
  <view class="stats-section">
    <view class="stats-card">
      <view class="stat-item primary">
        <text class="stat-value">{{stats.totalAssigned}}</text>
        <text class="stat-label">åˆ†é…æ€»æ•°</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{stats.pendingEvaluation}}</text>
        <text class="stat-label">å¾…è¯„åˆ†</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{stats.completed}}</text>
        <text class="stat-label">å·²å®Œæˆ</text>
      </view>
    </view>
  </view>

  <!-- å¾…è¯„åˆ†ä»»åŠ¡åˆ—è¡¨ -->
  <view class="tasks-section">
    <view class="section-header">
      <text class="section-title">å¾…è¯„åˆ†å€™é€‰äºº</text>
      <text class="section-count">{{pendingCandidates.length}}</text>
    </view>

    <view wx:if="{{pendingCandidates.length === 0}}" class="empty-state">
      <text class="empty-icon">âœ¨</text>
      <text class="empty-text">æš‚æ— å¾…è¯„åˆ†ä»»åŠ¡</text>
    </view>

    <view wx:else class="candidate-list">
      <view
        wx:for="{{pendingCandidates}}"
        wx:key="id"
        class="candidate-card"
        bindtap="onEvaluateCandidate"
        data-id="{{item.id}}"
      >
        <view class="candidate-header">
          <view class="candidate-info">
            <text class="candidate-name">{{item.basicInfo.name}}</text>
            <text class="candidate-id">ID: {{item.id}}</text>
          </view>
          <view class="test-score-badge" wx:if="{{item.onlineTest}}">
            <text class="badge-label">æµ‹è¯•å¾—åˆ†</text>
            <text class="badge-value">{{item.onlineTest.score}}åˆ†</text>
          </view>
        </view>

        <view class="candidate-details">
          <view class="detail-item">
            <text class="detail-label">é¢è¯•æ—¶é—´ï¼š</text>
            <text class="detail-value">{{item.interviewSchedule.date}} {{item.interviewSchedule.time}}</text>
          </view>
          <view class="detail-item">
            <text class="detail-label">åŸºæœ¬ä¿¡æ¯ï¼š</text>
            <text class="detail-value">{{item.basicInfo.age}}å² / {{item.basicInfo.height}}cm</text>
          </view>
        </view>

        <!-- æŸ¥çœ‹é¢è¯•ç´ æ -->
        <view wx:if="{{item.interviewMaterials && item.interviewMaterials.photographer}}" class="materials-section">
          <text class="materials-label">ğŸ“¹ é¢è¯•ç´ æå·²ä¸Šä¼ </text>
          <text class="materials-time">{{item.interviewMaterials.photographer.uploadedAt}}</text>
        </view>

        <view class="action-btn">
          <text class="btn-text">å¼€å§‹è¯„åˆ† â†’</text>
        </view>
      </view>
    </view>
  </view>

  <!-- å·²å®Œæˆåˆ—è¡¨ï¼ˆæœ€è¿‘5ä¸ªï¼‰ -->
  <view class="completed-section">
    <view class="section-header">
      <text class="section-title">æœ€è¿‘å®Œæˆ</text>
    </view>

    <view wx:if="{{completedCandidates.length === 0}}" class="empty-state">
      <text class="empty-text">æš‚æ— è®°å½•</text>
    </view>

    <view wx:else class="completed-list">
      <view
        wx:for="{{completedCandidates}}"
        wx:key="id"
        class="completed-card"
      >
        <view class="completed-info">
          <text class="completed-name">{{item.basicInfo.name}}</text>
          <text class="completed-score">ç»¼åˆè¯„åˆ†: {{item.evaluations.danceTeacher.score}}/10</text>
        </view>
        <view class="completed-status">
          <text class="status-icon">âœ“</text>
        </view>
      </view>
    </view>
  </view>

  <!-- å¿«æ·åŠŸèƒ½ -->
  <view class="quick-actions">
    <view class="action-item" bindtap="onRefresh">
      <text class="action-icon">ğŸ”„</text>
      <text class="action-text">åˆ·æ–°åˆ—è¡¨</text>
    </view>
    <view class="action-item" bindtap="onViewHistory">
      <text class="action-icon">ğŸ“‹</text>
      <text class="action-text">å†å²è®°å½•</text>
    </view>
  </view>
</view>
