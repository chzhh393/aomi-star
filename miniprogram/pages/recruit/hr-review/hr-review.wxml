<!--
  HRå®¡æ ¸é¡µé¢
  åŠŸèƒ½: æŸ¥çœ‹å€™é€‰äººä¿¡æ¯å¹¶è¿›è¡Œå®¡æ ¸
-->
<view class="hr-review">
  <view wx:if="{{!candidate}}" class="loading">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <view wx:else class="content">
    <!-- å€™é€‰äººåŸºæœ¬ä¿¡æ¯ -->
    <view class="info-section">
      <view class="section-title">
        <text class="title-icon">ğŸ‘¤</text>
        <text class="title-text">å€™é€‰äººä¿¡æ¯</text>
      </view>

      <view class="info-card">
        <!-- ç…§ç‰‡å±•ç¤º -->
        <view wx:if="{{candidate.basicInfo.photos && candidate.basicInfo.photos.length > 0}}" class="photos-section">
          <view class="photos-grid">
            <image
              wx:for="{{candidate.basicInfo.photos}}"
              wx:key="index"
              class="photo-item"
              src="{{item}}"
              mode="aspectFill"
              bindtap="onViewPhoto"
              data-url="{{item}}"
            />
          </view>
        </view>

        <!-- åŸºæœ¬ä¿¡æ¯ -->
        <view class="info-group">
          <view class="info-row">
            <text class="info-label">å§“å</text>
            <text class="info-value">{{candidate.basicInfo.name}}</text>
          </view>
          <view class="info-row">
            <text class="info-label">æ€§åˆ«</text>
            <text class="info-value">{{candidate.basicInfo.gender === 'female' ? 'å¥³' : 'ç”·'}}</text>
          </view>
          <view class="info-row">
            <text class="info-label">å¹´é¾„</text>
            <text class="info-value">{{candidate.basicInfo.age}}å²</text>
          </view>
          <view class="info-row">
            <text class="info-label">èº«é«˜</text>
            <text class="info-value">{{candidate.basicInfo.height}}cm</text>
          </view>
          <view class="info-row">
            <text class="info-label">ä½“é‡</text>
            <text class="info-value">{{candidate.basicInfo.weight}}kg</text>
          </view>
        </view>

        <!-- è”ç³»æ–¹å¼ -->
        <view class="info-group">
          <view class="group-header">
            <text class="group-title">è”ç³»æ–¹å¼</text>
          </view>
          <view class="info-row">
            <text class="info-label">æ‰‹æœºå·</text>
            <text class="info-value">{{candidate.basicInfo.phone}}</text>
          </view>
          <view class="info-row">
            <text class="info-label">å¾®ä¿¡å·</text>
            <text class="info-value">{{candidate.basicInfo.wechat || 'æœªå¡«å†™'}}</text>
          </view>
          <view class="info-row">
            <text class="info-label">æ‰€åœ¨åœ°</text>
            <text class="info-value">{{candidate.basicInfo.location || 'æœªå¡«å†™'}}</text>
          </view>
        </view>

        <!-- æ•™è‚²èƒŒæ™¯ -->
        <view class="info-group" wx:if="{{candidate.basicInfo.education}}">
          <view class="group-header">
            <text class="group-title">æ•™è‚²èƒŒæ™¯</text>
          </view>
          <view class="info-row">
            <text class="info-label">å­¦å†</text>
            <text class="info-value">{{candidate.basicInfo.education}}</text>
          </view>
        </view>

        <!-- å·¥ä½œç»éªŒ -->
        <view class="info-group" wx:if="{{candidate.basicInfo.experience}}">
          <view class="group-header">
            <text class="group-title">å·¥ä½œç»éªŒ</text>
          </view>
          <view class="info-row full">
            <text class="info-value">{{candidate.basicInfo.experience}}</text>
          </view>
        </view>

        <!-- ç”³è¯·æ—¶é—´ -->
        <view class="info-group">
          <view class="info-row">
            <text class="info-label">ç”³è¯·æ—¶é—´</text>
            <text class="info-value minor">{{candidate.createdAt}}</text>
          </view>
          <view class="info-row">
            <text class="info-label">å€™é€‰äººID</text>
            <text class="info-value minor">{{candidate.id}}</text>
          </view>
        </view>
      </view>
    </view>

    <!-- å®¡æ ¸å¤‡æ³¨ -->
    <view class="notes-section">
      <view class="section-title">
        <text class="title-icon">ğŸ“</text>
        <text class="title-text">å®¡æ ¸å¤‡æ³¨</text>
        <text class="optional">(å¯é€‰)</text>
      </view>

      <view class="notes-card">
        <textarea
          class="notes-input"
          placeholder="è¯·è¾“å…¥å®¡æ ¸å¤‡æ³¨..."
          value="{{reviewNotes}}"
          bindinput="onNotesInput"
          maxlength="200"
          auto-height
        />
        <view class="notes-count">{{reviewNotes.length}}/200</view>
      </view>
    </view>

    <!-- æ“ä½œæŒ‰é’® -->
    <view class="actions">
      <button class="action-btn reject-btn" bindtap="onReject">
        <text class="btn-icon">âœ•</text>
        <text class="btn-text">æ‹’ç»</text>
      </button>
      <button class="action-btn approve-btn" bindtap="onApprove">
        <text class="btn-icon">âœ“</text>
        <text class="btn-text">é€šè¿‡</text>
      </button>
    </view>
  </view>
</view>
