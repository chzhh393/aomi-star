<!--
  HRå·¥ä½œå°
  åŠŸèƒ½:
  1. æŸ¥çœ‹å¾…å®¡æ ¸å€™é€‰äºº(status=pending)
  2. æŸ¥çœ‹å„é˜¶æ®µå€™é€‰äººç»Ÿè®¡
  3. æŸ¥çœ‹æœ€è¿‘é€šè¿‡å®¡æ ¸çš„å€™é€‰äºº
-->
<view class="hr-home">
  <!-- é¡¶éƒ¨ç”¨æˆ·ä¿¡æ¯ -->
  <view class="header">
    <view class="user-info">
      <text class="role-badge">ğŸ‘” HRç®¡ç†å‘˜</text>
      <text class="username">{{userInfo.profile.name}}</text>
    </view>
  </view>

  <!-- æ•°æ®ç»Ÿè®¡å¡ç‰‡ -->
  <view class="stats-section">
    <view class="stats-card">
      <view class="stat-item primary">
        <text class="stat-value">{{stats.total}}</text>
        <text class="stat-label">å€™é€‰äººæ€»æ•°</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{stats.pending}}</text>
        <text class="stat-label">å¾…å®¡æ ¸</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{stats.interviewing}}</text>
        <text class="stat-label">é¢è¯•ä¸­</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{stats.signed}}</text>
        <text class="stat-label">å·²ç­¾çº¦</text>
      </view>
    </view>
  </view>

  <!-- å¾…å®¡æ ¸å€™é€‰äººåˆ—è¡¨ -->
  <view class="tasks-section">
    <view class="section-header">
      <text class="section-title">å¾…å®¡æ ¸å€™é€‰äºº</text>
      <text class="section-count">{{pendingCandidates.length}}</text>
    </view>

    <view wx:if="{{pendingCandidates.length === 0}}" class="empty-state">
      <text class="empty-icon">âœ¨</text>
      <text class="empty-text">æš‚æ— å¾…å®¡æ ¸å€™é€‰äºº</text>
    </view>

    <view wx:else class="candidate-list">
      <view
        wx:for="{{pendingCandidates}}"
        wx:key="id"
        class="candidate-card urgent"
        bindtap="onViewCandidate"
        data-id="{{item.id}}"
      >
        <view class="candidate-header">
          <view class="candidate-info">
            <text class="candidate-name">{{item.basicInfo.name}}</text>
            <text class="candidate-id">ID: {{item.id}}</text>
          </view>
          <view class="urgent-badge">
            <text class="badge-text">å¾…å®¡æ ¸</text>
          </view>
        </view>

        <view class="candidate-details">
          <view class="detail-item">
            <text class="detail-label">æ€§åˆ«ï¼š</text>
            <text class="detail-value">{{item.basicInfo.gender === 'female' ? 'å¥³' : 'ç”·'}}</text>
          </view>
          <view class="detail-item">
            <text class="detail-label">å¹´é¾„/èº«é«˜ï¼š</text>
            <text class="detail-value">{{item.basicInfo.age}}å² / {{item.basicInfo.height}}cm</text>
          </view>
          <view class="detail-item">
            <text class="detail-label">è”ç³»ç”µè¯ï¼š</text>
            <text class="detail-value">{{item.basicInfo.phone}}</text>
          </view>
          <view class="detail-item">
            <text class="detail-label">ç”³è¯·æ—¶é—´ï¼š</text>
            <text class="detail-value">{{item.createdAt}}</text>
          </view>
        </view>

        <view class="action-btn" catchtap="onReviewCandidate" data-id="{{item.id}}">
          <text class="btn-text">å»å®¡æ ¸ â†’</text>
        </view>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘é€šè¿‡å®¡æ ¸çš„å€™é€‰äºº -->
  <view class="completed-section">
    <view class="section-header">
      <text class="section-title">æœ€è¿‘é€šè¿‡å®¡æ ¸</text>
    </view>

    <view wx:if="{{recentApproved.length === 0}}" class="empty-state">
      <text class="empty-text">æš‚æ— è®°å½•</text>
    </view>

    <view wx:else class="completed-list">
      <view
        wx:for="{{recentApproved}}"
        wx:key="id"
        class="completed-card"
        bindtap="onViewCandidate"
        data-id="{{item.id}}"
      >
        <view class="completed-info">
          <text class="completed-name">{{item.basicInfo.name}}</text>
          <text class="completed-status">
            {{item.status === 'interview_scheduled' ? 'é¢è¯•å·²æ’æœŸ' :
              item.status === 'online_test_completed' ? 'çº¿ä¸Šæµ‹è¯•å®Œæˆ' :
              item.status === 'rated' ? 'å·²è¯„çº§' :
              item.status === 'signed' ? 'å·²ç­¾çº¦' : 'è¿›è¡Œä¸­'}}
          </text>
        </view>
        <view class="completed-arrow">
          <text class="arrow-icon">â†’</text>
        </view>
      </view>
    </view>
  </view>

  <!-- å¿«æ·åŠŸèƒ½ -->
  <view class="quick-actions">
    <view class="action-item" bindtap="onViewAllCandidates">
      <text class="action-icon">ğŸ“‹</text>
      <text class="action-text">å…¨éƒ¨å€™é€‰äºº</text>
    </view>
    <view class="action-item" bindtap="onViewStatistics">
      <text class="action-icon">ğŸ“Š</text>
      <text class="action-text">æ•°æ®ç»Ÿè®¡</text>
    </view>
    <view class="action-item" bindtap="onRefresh">
      <text class="action-icon">ğŸ”„</text>
      <text class="action-text">åˆ·æ–°åˆ—è¡¨</text>
    </view>
  </view>
</view>
